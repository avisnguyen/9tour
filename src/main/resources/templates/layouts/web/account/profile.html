<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head th:replace="~{fragments/fragments-web :: web_head}"></head>
<body class="changeHeader">
<div id="wrap">
    <header th:replace="~{fragments/fragments-web :: web_header}"></header>
    <section class="pageTitle"
             style="background-image:url(https://res.cloudinary.com/jstit/image/upload/v1622022625/9tour/background/B%E1%BA%A3n_sao_c%E1%BB%A7a_Kh%C3%B4ng_c%C3%B3_ti%C3%AAu_%C4%91%E1%BB%81_mvezcx.png);">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="titleTable">
                        <div class="titleTableInner">
                            <div class="pageTitleInfo">
                                <h1>Trang thành viên</h1>
                                <div class="under-border"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="mainContentSection">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="media blogPostListItem" style="overflow: hidden">
                        <div class="media-body">
                            <a th:href="@{/trang-chu}">Trang chủ</a> / <a th:href="@{tai-khoan/thong-tin}">Thông tin tài
                            khoản</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 col-sm-12 col-xs-12">
                    <div class="profile-sider">
                        <div class="profile-usermenu">
                            <style>
                                .nav .active {
                                    background-color: #D0D0D0;
                                    color: #1e94f2;
                                    border-left: 2px solid;
                                }

                                .profile-sidebar .nav > li:hover {
                                    background-color: #D0D0D0;
                                    color: #1e94f2;
                                    border-left: 2px solid;
                                }

                                .profile-sidebar .nav > li a:hover {
                                    color: #1e94f2;
                                }
                            </style>
                            <ul class="nav infor-user" style="background: #f6f6f3;">
                                <li class="active">
                                    <a th:href="@{/tai-khoan/thong-tin}">
                                        <i style="color:#6f6f6f; font-size: 12px;" class="glyphicon glyphicon-home"></i>
                                        &nbsp;Thông tin chung
                                    </a>
                                </li>
                                <li class="">
                                    <a th:href="@{/tai-khoan/lich-su-dat-tour}">
                                        <i style="color:#6f6f6f; font-size: 12px;" class="fa fa-history"></i>
                                        &nbsp;Lịch sử đặt tour
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:void(0)">
                                        <i style="color:#6f6f6f; font-size: 12px;" class="fa fa-gift"></i>
                                        &nbsp;Đổi quà
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:void(0)">
                                        <i style="color:#6f6f6f; font-size: 12px;" class="glyphicon glyphicon-flag"></i>
                                        &nbsp;Lịch sử đổi quà
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:void(0)">
                                        <i style="color:#6f6f6f; font-size: 12px;" class="fa fa-upload"></i>
                                        &nbsp;Lịch sử nâng hạng
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:void(0)">
                                        <i style="color:#6f6f6f; font-size: 12px;" class="glyphicon glyphicon-flag"></i>
                                        &nbsp;Lịch sử điểm
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:void(0)">
                                        <i style="color:#6f6f6f; font-size: 12px;" class="fa fa-user"></i>
                                        &nbsp;Nhóm thành viên
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-9 col-sm-12 col-xs-12">
                    <div th:if="${message}" th:class="|alert ${message.get('alert')}|">
                        <button type="button" class="close" data-dismiss="alert">
                            <i class="ace-icon fa fa-times"></i>
                        </button>
                        <b th:text="${message.get('msg')}"></b>
                    </div>
                    <form th:action="@{/tai-khoan/cap-nhat-thong-tin}" method="post" th:object="${userCurrent}"
                          class="has-validation-callback">
                        <div class="col-md-12 col-sm-12 col-xs-12 text-center mg-bot20">
                            <h3>Thông tin khách hàng</h3>
                        </div>
                        <input type="hidden" th:field="*{id}">
                        <th:block th:each="role: *{getRoleResponseModels}">
                            <input type="hidden" name="roles" th:value="${role.id}">
                        </th:block>
                        <div class="row mg-bot5">
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>Họ <span style="color:red">(*)</span>:</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <input type="text" name="lastName" id="last_name" class="form-control"
                                       data-val="true" required="required" data-validation="required"
                                       th:value="*{lastName}">
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>Tên <span style="color:red">(*)</span>:</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <input type="text" name="firstName" id="first_name" class="form-control"
                                       required="required" data-validation="required" th:value="*{firstName}">
                            </div>
                        </div>
                        <div class="row mg-bot5">
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>Email <span style="color:red">(*)</span>:</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <input class="form-control" id="email" name="email" type="text" th:value="*{email}"
                                       readonly>
                            </div>
                        </div>
                        <div class="row mg-bot5">
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>SĐT :</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <input type="text" name="phone" id="phone" class="form-control" th:value="*{phone}">
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>Giới tính <span style="color:red">(*)</span>:</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <select th:field="*{sex}" class="form-control col-xs-12 col-sm-5"
                                        data-validation="required">
                                    <option disabled="true" value="" label="-- Giới tính --"/>
                                    <option th:value="Nam" label="Nam"/>
                                    <option th:value="Nữ" label="Nữ"/>
                                    <option th:value="Khác" label="Khác"/>
                                </select>
                            </div>
                        </div>
                        <div class="row mg-bot5">
                            <div class="col-md-2 col-sm-3 col-xs-4">
                                <label>Mật khẩu:</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <input class="form-control" readonly id="pass" name="pass"
                                       type="password" value="**********">
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <button class="btn btn-primary btn-block" onclick="DoiPass()" type="button"
                                        style="padding: 7px 0; text-transform: unset">
                                    Thay đổi &nbsp;<i class="fa fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <div class="row mg-bot5">
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>Quốc tịch :</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <input type="text" name="nationality" id="nationality" class="form-control"
                                       th:value="*{nationality}">
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>Passport :</label>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-8">
                                <input type="text" name="passport" id="passport" class="form-control"
                                       th:value="*{passport}">
                            </div>
                        </div>
                        <div class="row mg-bot20">
                            <div class="col-md-2 col-sm-2 col-xs-4">
                                <label>Địa chỉ :</label>
                            </div>
                            <div class="col-md-10 col-sm-4 col-xs-8">
                                <input type="text" name="address" id="address" class="form-control"
                                       th:value="*{address}">
                            </div>
                        </div>
                        <div class="col-xs-12 text-right">
                            <button id="btCapNhat" type="submit" class="btn btn-danger"
                                    style="padding: 8px 8px; text-transform: unset">Cập nhật&nbsp;&nbsp;<i
                                    class="fa fa-save"></i></button>
                        </div>
                    </form>
                    <div id="boxes" style="height: inherit !important;">
                        <div class="modal" id="myModalDoiMatKhau">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title">ĐỔI MẬT KHẨU</h4>
                                    </div>
                                    <form id="frmPass" method="post" th:action="@{/tai-khoan/cap-nhat-mat-khau}">
                                        <div class="modal-body">
                                            <div class="form-group">
                                                <label class="mg-bot5">Mật khẩu cũ <span
                                                        style="color:red">(*)</span>:</label>
                                                <div class="input-group" id="show_hide_password_MatKhauCu">
                                                    <input type="password" name="password" id="MatKhauCu"
                                                           class="form-control" data-val="true">
                                                    <div class="input-group-addon">
                                                        <a><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
                                                    </div>
                                                </div>
                                                <div style="margin-top:5px" class="field-validation-valid text-danger"
                                                     data-valmsg-for="MatKhauCu" data-valmsg-replace="true"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="mg-bot5">Mật khẩu mới <span
                                                        style="color:red">(*)</span>:</label>
                                                <div class="input-group" id="show_hide_password_MatKhauMoi">
                                                    <input type="password" name="newPassword" class="form-control"
                                                           id="MatKhauMoi">
                                                    <div class="input-group-addon">
                                                        <a><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
                                                    </div>
                                                </div>
                                                <div style="margin-top:5px" class="field-validation-valid text-danger"
                                                     data-valmsg-for="MatKhauMoi" data-valmsg-replace="true"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="mg-bot5">Nhập lại mật khẩu mới <span
                                                        style="color:red">(*)</span>:</label>
                                                <div class="input-group" id="show_hide_password_NhapLaiMatKhauMoi">
                                                    <input type="password" name="confirmNewPassword"
                                                           id="NhapLaiMatKhauMoi" class="form-control">
                                                    <div class="input-group-addon">
                                                        <a><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
                                                    </div>
                                                </div>
                                                <div style="margin-top:5px" class="field-validation-valid text-danger"
                                                     data-valmsg-for="NhapLaiMatKhauMoi"
                                                     data-valmsg-replace="true"></div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <div class="col-md-6">
                                                <button type="submit" id="btnCapNhatMatKhau"
                                                        class="btn btn-warning btn-block" style="padding: 7px 0px">
                                                    Cập nhật mật khẩu&nbsp;&nbsp;
                                                    <i class="fa fa-paper-plane"></i>
                                                </button>
                                            </div>
                                            <div class="col-md-6">
                                                <button id="btnClose" type="button" class="btn btn-default btn-block"
                                                        style="padding: 7px 0px">
                                                    Đóng lại&nbsp;&nbsp;
                                                    <i class="fa fa-times-circle"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div id="mask"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
</section>
<footer th:replace="~{fragments/fragments-web :: web_footer}"></footer>
</div>
<script th:replace="~{fragments/fragments-web :: web_script}"></script>
<script type="text/javascript">
    var $modal = $('#myModalDoiMatKhau');

    function DoiPass() {
        $modal.show();
        $("#mask").show();
    }

    $('#btnClose').on('click', function (event) {
        $modal.hide();
        $("#mask").hide();
    });

    $(document).ready(function () {
        $("#show_hide_password_MatKhauCu a").on('click', function (event) {
            event.preventDefault();
            if ($('#show_hide_password_MatKhauCu input').attr("type") == "text") {
                $('#show_hide_password_MatKhauCu input').attr('type', 'password');
                $('#show_hide_password_MatKhauCu i').addClass("fa-eye-slash");
                $('#show_hide_password_MatKhauCu i').removeClass("fa-eye");
            } else if ($('#show_hide_password_MatKhauCu input').attr("type") == "password") {
                $('#show_hide_password_MatKhauCu input').attr('type', 'text');
                $('#show_hide_password_MatKhauCu i').removeClass("fa-eye-slash");
                $('#show_hide_password_MatKhauCu i').addClass("fa-eye");
            }
        });

        $("#show_hide_password_MatKhauMoi a").on('click', function (event) {
            event.preventDefault();
            if ($('#show_hide_password_MatKhauMoi input').attr("type") == "text") {
                $('#show_hide_password_MatKhauMoi input').attr('type', 'password');
                $('#show_hide_password_MatKhauMoi i').addClass("fa-eye-slash");
                $('#show_hide_password_MatKhauMoi i').removeClass("fa-eye");
            } else if ($('#show_hide_password_MatKhauMoi input').attr("type") == "password") {
                $('#show_hide_password_MatKhauMoi input').attr('type', 'text');
                $('#show_hide_password_MatKhauMoi i').removeClass("fa-eye-slash");
                $('#show_hide_password_MatKhauMoi i').addClass("fa-eye");
            }
        });

        $("#show_hide_password_NhapLaiMatKhauMoi a").on('click', function (event) {
            event.preventDefault();
            if ($('#show_hide_password_NhapLaiMatKhauMoi input').attr("type") == "text") {
                $('#show_hide_password_NhapLaiMatKhauMoi input').attr('type', 'password');
                $('#show_hide_password_NhapLaiMatKhauMoi i').addClass("fa-eye-slash");
                $('#show_hide_password_NhapLaiMatKhauMoi i').removeClass("fa-eye");
            } else if ($('#show_hide_password_NhapLaiMatKhauMoi input').attr("type") == "password") {
                $('#show_hide_password_NhapLaiMatKhauMoi input').attr('type', 'text');
                $('#show_hide_password_NhapLaiMatKhauMoi i').removeClass("fa-eye-slash");
                $('#show_hide_password_NhapLaiMatKhauMoi i').addClass("fa-eye");
            }
        });
    });
</script>
</body>
</html>