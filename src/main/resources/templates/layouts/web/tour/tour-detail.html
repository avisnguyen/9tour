<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/fragments-web :: web_head}"></head>
<body class="changeHeader">
</div>
<div class="modal fade modal-login modal-border-transparent" id="loginModal" tabindex="-1" role="dialog"
     aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <button type="button" class="btn btn-close close" data-dismiss="modal" aria-label="Close">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            </button>
            <div class="clear"></div>
            <div id="modal-login-form-wrapper">
            </div>
        </div>
    </div>
</div>
<div id="wrap">
    <header th:replace="~{fragments/fragments-web :: web_header}"></header>
    <div class="main-wrapper">

        <!-- PAGE TITLE -->
        <section>
            <!--            <div class="pageTitle page-image-tour-tag"-->
            <!--                 th:style="'background-image: url(' + ${trip.tour.thumbnailUrl} + ')'">-->
            <!--            </div>-->
            <div class="pageTitle page-image-tour-tag"
                 th:style="'background-image: url(' + ${tour.thumbnailUrl} + ')'">
            </div>
        </section>
        <section>
            <div class="container" style="position: relative">
                <div class="background-description">
                    <h1 class="tour-banner-title" th:text="${tour.name}"></h1>
                </div>
            </div>
        </section>
        <!-- PAGE CONTENT -->

        <!-- PAGE CONTENT -->
        <section class="mainContentSection singlePackage">
            <div class="container detail-tour-kiritm">
                <div class="row">
                    <div class="col-md-9 col-sm-12 col-xs-12">
                        <div class="info-tour">
                            <div class="row-info">
                                <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <span class="text-uppercase">Thời gian:</span>
                                        <span class="text-strong" th:text="${tour.duringTime}"></span>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <span class="text-uppercase">Phương tiện:</span>
                                        <span class="text-strong" th:text="${tour.transport}"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <span class="text-uppercase">Điểm xuất phát:</span>
                                        <span class="text-strong" th:text="${tour.getDepartureModel.name}"></span>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <span class="text-uppercase">Điểm đến:</span>
                                        <span class="text-strong" th:text="${tour.getDestinationModel.name}"></span>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="list-tour-detail" th:if="${!tour.tripResponseModels.empty}">
                            <div class="row ">
                                <div class="col-md-12 col-xs-12 tour-detail-title-information tour-detail-header-col">
                                    <div class="row">
                                        <div class="col-md-2 col-sm-3 col-xs-12">
                                            Khởi hành
                                        </div>
                                        <!--                                        <div class="col-md-2 col-sm-3 col-xs-12">-->
                                        <!--                                           Ngày về-->
                                        <!--                                        </div>-->
                                        <div class="col-md-2 col-sm-3 col-xs-12">
                                            Mã Tour
                                        </div>
                                        <div class="col-sm-2 col-xs-12">
                                            Giá người lớn
                                        </div>
                                        <div class="col-sm-2 col-xs-12">
                                            Giá trẻ em
                                        </div>
                                        <div class="col-sm-2 col-xs-12">
                                            Giá em bé
                                        </div>
                                        <div class="col-md-2 col-sm-12 col-xs-12">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12 tour-detail-content-col">
                                    <div class="list-inline" th:each="trip, state: ${tour.tripResponseModels}">
                                        <div class="row">
                                            <!--                                            <div class=" col-xs-12">-->
                                            <!--                                                <h5 th:each="">Thông tin tour chi tiết thứ #1</h5>-->
                                            <!--                                            </div>-->
                                            <div class="col-md-2 col-sm-3 col-xs-12">
                                                <label>Ngày khởi hành</label>
                                                <strong th:text="${#dates.format(trip.departureTime, 'dd-MM-yyyy')}"></strong>
                                            </div>
                                            <!--                                            <div class="col-md-2 col-sm-3 col-xs-12">-->
                                            <!--                                                <label>Ngày về</label>-->
                                            <!--                                                <strong th:text="${#dates.format(trip.returnTime, 'dd-MM-yyyy')}"></strong>-->
                                            <!--                                            </div>-->
                                            <div class="col-md-2 col-sm-3 col-xs-12">
                                                <label>Mã Tour</label>
                                                <strong style="margin-left: -30px;"
                                                        th:text="${trip.code}">${model.code}</strong>
                                            </div>
                                            <div class="col-md-2 col-sm-2 col-xs-12 price">
                                                <label>Giá người lớn</label>
                                                <strong th:if="${trip.adultPrice < 100}"
                                                        th:text="${trip.adultPrice}"></strong>
                                                <strong th:unless="${trip.adultPrice < 100}"
                                                        th:text="${#numbers.formatInteger(trip.adultPrice,3,'POINT')}"></strong>
                                            </div>
                                            <div class="col-md-2 col-sm-2 col-xs-12 price">
                                                <label>Giá trẻ em</label>
                                                <strong th:if="${trip.childPrice < 100}"
                                                        th:text="${trip.childPrice}"></strong>
                                                <strong th:unless="${trip.childPrice < 100}"
                                                        th:text="${#numbers.formatInteger(trip.childPrice,3,'POINT')}"><</strong>
                                            </div>
                                            <div class="col-md-2 col-sm-2 col-xs-12 price">
                                                <label>Giá trẻ sơ sinh</label>
                                                <strong th:if="${trip.infantPrice < 100}"
                                                        th:text="${trip.infantPrice}"></strong>
                                                <strong th:unless="${trip.infantPrice < 100}"
                                                        th:text="${#numbers.formatInteger(trip.infantPrice,3,'POINT')}"></strong>
                                            </div>
                                            <div class="col-md-2 col-sm-2 col-xs-12 packageInfo">
                                                <label>Đặt/Mua ngay</label>
                                                <div class="action-book" style="height: auto">
                                                    <a class="btn btn-buy-tour"
                                                       th:if="${(trip.adultAvailable) >= 1}"
                                                       th:href="@{/tour/booking/{id}/pax-no(id = ${trip.id})}">Đặt
                                                        ngay</a>
                                                    <a class="btn btn-book-tour"
                                                       th:unless="${(trip.adultAvailable) >= 1}"
                                                       href="javascript:void(0)">Hết vé</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 100%" class="list-tour-detail" th:if="${tour.tripResponseModels.empty}">
                            <div class="col-md-12 col-xs-12 text-center">
                                Hiện tại chưa có chuyến đi cho tour này
                            </div>
                        </div>
                        <div class="row-description">
                            <div class="title-description">Tour này có gì hay?</div>
                            <br/>
                            <div class="content-description" th:utext="${tour.description}">
                            </div>
                        </div>
                        <div class="row row-image-box isdesktop">
                        </div>
                        <div class="row-info-tour">
                            <div role="tabpanel" class="">
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs" role="tablist">
                                    <li role="presentation" class="active">
                                        <a href="#tour-preview" role="tab" data-toggle="tab">
                                            Xem trước điểm du lịch
                                        </a>
                                    </li>
                                    <li role="presentation">
                                        <a href="#tour-program" role="tab" data-toggle="tab">
                                            Chương trình Tour
                                        </a>
                                    </li>
                                    <li role="presentation">
                                        <a href="#tour-term" role="tab" data-toggle="tab">
                                            Chính sách Tour
                                        </a>
                                    </li>
                                    <li role="presentation">
                                        <a href="#tour-question" role="tab" data-toggle="tab">
                                            Câu hỏi thường gặp
                                        </a>
                                    </li>
                                </ul>
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane active" id="tour-preview">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <br/>
                                                <div class="col-xs-4 commonInfo" style="height: 500px;" id="map"></div>
                                                <div class="col-xs-8 commonInfo" style="height: 500px;"
                                                     id="street-view"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="tour-program">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <br/>
                                                <div class="commonInfo" th:utext="${tour.itinerary}">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="tour-term">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <br/>
                                                <div class="commonInfo" th:utext="${tour.termConditions}">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="tour-question">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <div class="commonInfo" th:utext="${tour.faq}">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="fb-comments" data-href="http://9tour.xyz" data-width="100%" data-lazy="true"
                             data-numposts="5">
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-12 col-xs-12">
                        <div class="row">
                            <div class="col-md-12 col-sm-4 col-xs-12">
                                <div class="right-detail-tour-box" id="boxInfoSuportSgt">
                                    <div class="title">Hỗ trợ khách hàng</div>
                                    <ul class="list-rows">
                                        <li class="item">
                                            <a class="item-line" href="tel:1900 1234">
                                                <span class="text">Hotline: 1900 1234</span>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <a class="item-line" href="mailto:info@9tour.xyz">
                                                <span class="text">Email: info@9tour.xyz</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-12 col-sm-4 col-xs-12">
                                <div class="right-detail-tour-box">
                                    <div class="title">Vì sao nên mua tour online?</div>

                                    <ul class="list-rows">
                                        <li class="item">
                                            <a class="item-line">
                                                <span class="text">An toàn - Bảo mật</span>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <a class="item-line">
                                                <span class="text">Tiện lợi, tiết kiệm thời gian</span>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <a class="item-line">
                                                <span class="text">Không tính phí giao dịch</span>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <a class="item-line">
                                                <span class="text">Giao dịch bảo đảm</span>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <a class="item-line">
                                                <span class="text">Nhận thêm ưu đãi</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="fb-page"
                             data-href="https://www.facebook.com/9Tour-D%E1%BB%8Bch-v%E1%BB%A5-l%E1%BB%AF-h%C3%A0nh-110131267920896"
                             data-tabs="" data-width="270" data-height="" data-small-header="false"
                             data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="false">
                            <blockquote
                                    cite="https://www.facebook.com/9Tour-D%E1%BB%8Bch-v%E1%BB%A5-l%E1%BB%AF-h%C3%A0nh-110131267920896"
                                    class="fb-xfbml-parse-ignore">
                                <a href="https://www.facebook.com/9Tour-D%E1%BB%8Bch-v%E1%BB%A5-l%E1%BB%AF-h%C3%A0nh-110131267920896">
                                    9Tour - Dịch vụ lữ hành
                                </a>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </div>
            <br/>
            <div class="container more-info-tour">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="relatedProduct">
                            <h2 th:text="${'Tour cùng điểm xuất phát: ' + tour.getDepartureModel.name}"></h2>
                            <div class="row" th:if="${sameDeparture.size() > 0}">
                                <th:block th:each="item, state: ${sameDeparture}" th:if="${state.count < 4}">
                                    <th:block th:if="${item.id != tour.id && item.tripResponseModel != null}">
                                        <div class="col-md-4 col-sm-6 col-xs-12">
                                            <article class="box isotopeSelector box-kiritm box-tour">
                                                <figure>
                                                    <a th:href="@{/tour/{id}/{slug}(id = ${item.id}, slug = ${item.slug})}"
                                                       class="popup-gallery image-box-relative image-box-3x2">
                                                        <img th:onError="|this.onerror=null;this.src='@{/web/img/no-img.png}';|"
                                                             width="100%" height="250"
                                                             th:alt="${item.name}"
                                                             th:src="${item.thumbnailUrl}">
                                                    </a>
                                                </figure>
                                                <div class="box-tour-price">
                                                    <p class="text">Giá từ</p>
                                                    <p class="price"
                                                       th:text="${#numbers.formatInteger(item.tripResponseModel.adultPrice,3,'POINT')}"></p>
                                                    <p class="info" th:text="${item.duringTime}"></p>
                                                </div>
                                                <div class="details-kiritm">
                                                    <div class="name-tour-detail">
                                                        <a th:href="@{/tour/{id}/{slug}(id = ${item.id}, slug = ${item.slug})}"
                                                           class="GAproductClick"
                                                           th:title="${item.name}">
                                                            [[${item.name}]]
                                                        </a>
                                                    </div>
                                                    <div class="bottom-detail">
                                                        <div class="info-tour">
                                                            [[${item.departureModel.name}]] -
                                                            <th:block
                                                                    th:each="place, iState: ${item.placeResponseModels}">
                                                                [[${place.name}]]
                                                                <span th:if="${!iState.last}"> | </span>
                                                            </th:block>
                                                        </div>
                                                    </div>
                                                </div>
                                            </article>
                                        </div>
                                    </th:block>
                                </th:block>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--            <div class="container more-info-tour">-->
            <!--                <div class="row">-->
            <!--                    <div class="col-xs-12">-->
            <!--                        <div class="relatedProduct">-->
            <!--                            <h2>Tour liên quan</h2>-->
            <!--                            <div class="row">-->
            <!--                                <c:forEach var="item" items="${relationTrip.listResult}" end="2">-->
            <!--                                    <div class="col-md-4 col-sm-6 col-xs-12">-->
            <!--                                        <article class="box isotopeSelector box-kiritm box-tour">-->
            <!--                                            <figure>-->
            <!--                                                <a href=""-->
            <!--                                                   class="popup-gallery image-box-relative image-box-3x2">-->
            <!--                                                    <img th:onError="|this.onerror=null;this.src='@{/web/img/no-img.png}';|" width="100%" height="250"-->
            <!--                                                         alt="${item.tour.subtitle}"-->
            <!--                                                         src="">-->
            <!--                                                </a>-->
            <!--                                            </figure>-->
            <!--                                            <div class="box-tour-price">-->
            <!--                                                <p class="text">Giá từ</p>-->
            <!--                                                <p class="price">${item.adultPrice}</p>-->
            <!--                                                <p class="info">${item.tour.duringTime}</p>-->
            <!--                                            </div>-->
            <!--                                            <div class="details-kiritm">-->
            <!--                                                <div class="name-tour-detail">-->
            <!--                                                    <a href=""-->
            <!--                                                       class="GAproductClick"-->
            <!--                                                       title="${item.tourName}">-->
            <!--                                                        ${item.tourName}-->
            <!--                                                    </a>-->
            <!--                                                </div>-->
            <!--                                                <div class="bottom-detail">-->
            <!--                                                    <div class="info-tour">-->
            <!--                                                        ${item.tour.departure} - -->
            <!--                                                        <c:forEach var="i"-->
            <!--                                                                   items="${item.tour.placeResponseModel}"-->
            <!--                                                                   varStatus="loop">-->
            <!--                                                            <c:out value="${i.name}"/>-->
            <!--                                                            <c:if test="${!loop.last}"> |</c:if>-->
            <!--                                                        </c:forEach>-->
            <!--                                                    </div>-->
            <!--                                                </div>-->
            <!--                                            </div>-->
            <!--                                        </article>-->
            <!--                                    </div>-->
            <!--                                </c:forEach>-->
            <!--                            </div>-->
            <!--                        </div>-->
            <!--                    </div>-->
            <!--                </div>-->
            <!--            </div>-->
        </section>

    </div>

    <div class="modal fade modal-login modal-border-transparent" id="callMeBackModal" tabindex="-1" role="dialog"
         aria-hidden="true" style="display: none;">
        <div class="modal-dialog modal-dialog-call-me-back">
            <div class="modal-content">
                <button type="button" class="btn btn-close close" data-dismiss="modal" aria-label="Close">
                    <span class="fa fa-times" aria-hidden="true"></span>
                </button>
                <div class="clear"></div>
                <h4 class="modal-title">
                    Dịch vụ hỗ trợ tư vấn miễn phí
                </h4>
                <div id="modal-call-me-back-form-wrapper">
                    <div class="call-back-form">
                        <form action="" method="POST" id="call_back_form">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <img th:onError="|this.onerror=null;this.src='@{/web/img/no-img.png}';|" src="#">
                                    <p class="title">
                                        Du lịch Hà Nội - Lào Cai - Sapa - Hạ Long<br> [ Hà Nội - Hạ Long - Sapa ]
                                    </p>
                                </div>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <p id="_message_success" class="message-success"></p>
                                    <div class="form-group">
                                        <input type="hidden" name="tour_id" class="form-control" id="tour_id"
                                               placeholder="Tour" value="3837">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" name="name" class="form-control" id="name"
                                               placeholder="Họ & tên">
                                    </div>
                                    <div class="form-group">
                                        <input type="email" name="email" class="form-control" id="email"
                                               placeholder="Email">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" name="phone" class="form-control" id="phone"
                                               placeholder="Phone">
                                    </div>
                                    <div class="form-group">
                                    <textarea name="message" class="form-control" id="message"
                                              placeholder="Nội dung"></textarea>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn buttonCustomPrimary" data-backdrop="static"
                                            data-keyboard="false">
                                        Gửi thông tin
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer th:replace="~{fragments/fragments-web :: web_footer}"></footer>
</div>
<script src="https://polyfill.io/v3/polyfill.min.js?features=default">
</script>
<script th:inline="javascript">
    /*<![CDATA[*/
    let panorama;
    var lat = parseFloat([[${tour.destinationModel.lat}]]);
    var lng = parseFloat([[${tour.destinationModel.lng}]]);

    function initialize() {
        const fenway = {lat: lat, lng: lng};
        const map = new google.maps.Map(document.getElementById("map"), {
            center: fenway,
            zoom: 14,
        });
        const panorama = new google.maps.StreetViewPanorama(
            document.getElementById("street-view"),
            {
                position: fenway,
                pov: {
                    heading: 34,
                    pitch: 10,
                },
            }
        );
        map.setStreetView(panorama);
    }

    /*]]>*/
</script>
<div id="fb-root"></div>
<script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v10.0&appId=878457402703014&autoLogAppEvents=1"
        nonce="RoTT0GUU">

</script>
<!-- Messenger Plugin chat Code -->
<script th:replace="~{fragments/fragments-web :: web_script}"></script>
<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initialize&libraries=&v=weekly"
        async
></script>
</body>
</html>